import {expect, test} from 'bun:test';
import {createMdhd} from '../create/iso-base-media/create-mdhd';

const reference = new Uint8Array([
	0x00, 0x00, 0x00, 0x20, 0x6d, 0x64, 0x68, 0x64, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x5f, 0x90, 0x00, 0x05,
	0x7e, 0x40, 0x55, 0xc4, 0x00, 0x00,
]);

test('mdhd', () => {
	expect(reference.length).toBe(32);
	expect(
		createMdhd({
			creationTime: null,
			modificationTime: null,
			timescale: 90000,
			duration: 360000,
		}),
	).toEqual(reference);
});
