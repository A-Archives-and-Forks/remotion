---
image: /generated/articles-docs-media-parser-download-and-parse-media.png
id: download-and-parse-media
title: downloadAndParseMedia()
slug: /media-parser/download-and-parse-media
crumb: '@remotion/media-parser'
---

Same as [`parseMedia()`](/docs/media-parser/parse-media), but also downloads the media file to disk.  
Meant to be used in Node.js and Bun.

```tsx title="Download a file"
import {downloadAndParseMedia} from '@remotion/media-parser';
import {nodeWriter} from '@remotion/media-parser/node-writer';

await downloadAndParseMedia({
  src: 'https://www.w3schools.com/html/mov_bbb.mp4',
  writer: nodeWriter('output.mp4'),
});
```

You can obtain [fields](/docs/media-parser/parse-media#fields) like `tracks` and `duration` by passing them to the `fields` object.

```tsx title="Download a file and get the duration"
import {downloadAndParseMedia} from '@remotion/media-parser';

const {duration} = await downloadAndParseMedia({
  src: 'https://s3.amazonaws.com/bucket/uploaded-asset.mp4',
  writer: nodeWriter('output.mp4'),
  onDimensions: () => {
    console.log('Got dimensions!');
  },
  onDuration: (duration) => {
    if (duration && duration > 600) {
      throw new Error('Video is too long');
    }
  },
});
```
